L'assetto (o orientamento) di un corpo è definito dalla rappresentazione dellecoordinate del sistema riferimento corpo$\mathfrak{R}_b\{O,\bar{b}_1,\bar{b}_2,\bar{b}_3\}$ in un sistema di riferimentodell'osservatore, nel nostro caso inerziale$\mathfrak{R}_i\{O,\bar{i}_1,\bar{i}_2,\bar{i}_3\}$. L'origine di entrambi isistemi di riferimento deve coincidere. Dal teorema di Eulero sappiamo che sonosufficienti tre rotazioni elementari per passare da un riferimento all'altro\begin{itemize}  \item $R_1(\theta_1)=X(\phi)$  \item $R_2(\theta_2)=Y(\theta)$  \item $R_3(\theta_3)=Z(\psi)$\end{itemize}dove i tre angoli rappresentano gli angoli di Eulero. Il prodotto tra matricinon è commutativo, quindi è necessario scegliere con accuratezza l'ordine dellerotazioni. Esistono due convenzioni\begin{itemize}  \item Proprie di Eulero, utilizza due assi uguali: Z-X-Z  \item Di Tayt-Brian: Z-Y-X e X-Y-Z\end{itemize}Le rotazioni di Eulero si possono rappresentare mediante una singola rotazione$\phi$ (detta rotazione principale) attorno ad un opportuno asse $\bar{e}$,indicando la trasformazione con $\mathfrak{R}_i^b\{\phi,\bar{e}\}$.Per quanto concerne la simulazione, è stato scelto di rappresentare l'assettodel satellite mediante i quaternioni.Il quaternione è l'estensione su quattro dimensioni dei parametri di Eulero$(\phi,\bar{e})$\begin{equation}\mathit{q}=\begin{bmatrix}\mathit{q}_0 \\ \mathit{\bf q}\end{bmatrix} =\begin{bmatrix}\cos{\phi/2} \\ {\bf e}\sin{\phi/2}\end{bmatrix}\end{equation}La composizione dei quaternioni avviene come quella degli angoli di Eulero,inoltre se consideriamo n-riferimenti, ad ogni matrice di rotazione corrispondeun quaternione. Inoltre nelle rotazioni infinitesime, la composizione è commutativae vale la seguente approssimazione\begin{equation}\mathit{q}\approx\begin{bmatrix}1\\ \phi/2 \ {\bf e}\end{bmatrix}\end{equation}Bisogna tenere conto che è necessaria una normalizzazione, perché sidimostra che con uno sviluppo in serie arrestato alprimo ordine non vale più la relazione\begin{equation}\mathit{q}^T\mathit{q}=1\end{equation}che va quindi imposta di nuovo.Adessio calcoliamo le equazioni di stato della cinematica dei quaternioni.Consideriamo un quaternione all'istante di tempo $t+\Delta t$ e lo scriviamo inrelazione al suo stato precedente, quindi al tempo $t$\begin{IEEEeqnarray}{rCl}\mathit{q}(t+\Delta t)&=&\mathit{q}(t)\otimes\begin{bmatrix}\cos(\omega(t)\Delta t/2)\\\sin(\omega(t)\Delta t/2){\bf e}(t)\end{bmatrix} =\\ &=& \cos(\omega(t)\Deltat/2)\mathit{q}(t)+\frac{\sin(\omega(t)\Deltat/2)}{\omega(t)}\mathit{q}(t)\otimes\begin{bmatrix}$0$\\\omega(t){\bf e}(t)\end{bmatrix}\end{IEEEeqnarray}Adesso costruiamo il rapporto incrementale\[\frac{\mathit{q}(t+\Delta t)-\mathit{q}(t)}{\Delta t}=\frac{\cos(\omega(t)\Delta t/2)-1}{\Delta t}\mathit{q}(t)+\frac{1}{2}\frac{\sin(\omega(t)\Delta t/2)}{\omega(t)\Deltat/2}\mathit{q}(t)\otimes \begin{bmatrix}0\\ \omega(t){\bf e}(t)\end{bmatrix}\]che per $\Delta t\rightarrow0$ diventa\begin{equation}\dot{\mathit{q}}(t)=\frac{1}{2}\mathit{q}(t)\otimes\begin{bmatrix}0\\\omega(t){\bf e}(t)\end{bmatrix}=\frac{1}{2}\mathit{q}(t)\otimes\begin{bmatrix}0\\{\boldsymbol {\omega}}(t)\end{bmatrix}\end{equation}Si nota che la derivata di un quaternione è non unitaria, ma di ampiezza $\omega/2$, ottenuta ruotando il quaternione di $\pi$ attorno all'asse della velocitàangolare $\bar{e}$Adesso che l'assetto e la variazione di assetto del satellite sono statidefiniti, possiamo indagare sulle cause del moto, quindi andiamo a vedere larelazione tra l'accelerazione angolare e le forze e i momenti diforza sia interni che esterni al satellite.L'equazione di Newton sulla rotazione di un corpo rigido\begin{equation}\dot{\vec{H}}=\int_V\vec{r}\times\ddot{\vec{r}}dm=\int_V\vec{r}\timesd\vec{F}=\vec{M}\label{eq:newton_eq}\end{equation} ci dice che la velocità di variazione del momento angolare $\dot{\vec{H}}$attorno a un punto fisso è uguale al momento totale $\vec{M}$ delle forze esterne agentisul corpo rigido. Si può dimostrare che la stessa relazione vale per il centrodi massa\begin{equation}\dot{\vec{H}}_c=\vec{M}_c\end{equation}Consideriamo il momento angolare del centro di massa, esso è definito come\begin{equation}\vec{H}_c=J\vec{\omega}\end{equation}dove la matrice simmetrica $J$ è chiamata matrice del momento di inerzia delcentro di massa o più semplicemente tensore di inerzia.Poiché è simmetrica e definita positiva, i suoi tre autovalori sono reali epositivi, quindi gli autovettori sono reali e ortogonali. Essi, se presi cometerna di assi cartesiani, costituiscono gli assi principali di inerzia. Se ilriferimento corpo del satellite coincide con il riferimento degli assiprincipali di inerzia allora $J$ è diagonale\begin{equation}J=\begin{bmatrix}J_1 \ 0 \ 0\\0 \ J_2 \ 0\\0 \ 0 \ J_3\end{bmatrix}\end{equation}Dai valori assunti da $J_1, J_2$ e $J_3$ si può conoscere la distribuzione dimassa del satellite\begin{itemize}  \item $J_1=J_2=J_3$: simmetria sferica  \item $J_1=J_2<J_3$: disco o flat body  \item $J_1=J_2>J_3$: bacchetta o slim body\end{itemize}Calcoliamo la derivata del momento angolare del centro di massa, ipotizzando cheil satellite non ruoti. Poiché le coordinate corpo non sono inerziali, laderivata di $\dot{\vec{H}}_c$ è la somma della derivata nel sistema diriferimento corpo e della rotazione del sistema di riferimento corpo\begin{equation}\dot{\vec{H}}_c(t)=J\dot{\vec{\omega}}+\vec{\omega}\times J\vec{\omega}\end{equation}Riscrivendola in funzione di $\dot{\vec{\omega}}$ e ricordandol'equazione di Newton \ref{eq:newton_eq}, otteniamo l'equazione fondamentaledella dinamica d'assetto\begin{equation}\dot{\vec{\omega}}(t)=-J^{-1}\vec{\omega}(t)\times J\vec{\omega}(t)+J^{-1}M_c(t)\end{equation}dove $-J^{-1}\vec{\omega}(t)\times J\vec{\omega}(t)$ rappresenta leaccelerazioni giroscopiche.Le equazioni di stato del satellite, date come combinazione delle equazionidella cinematica e della dinamica d'assetto, in forma vettoriale e compatta sono\begin{equation}\begin{bmatrix}\dot{\mathit{\bf q}}\\\dot{\boldsymbol \omega}\end{bmatrix}(t) =\begin{bmatrix}0 \ \mathit{Q}(\mathit{\bf q})/2 \\0 \ \Omega\end{bmatrix} \end{equation}